<%- include partials/header.ejs %>

<form class="row" action="/panel/edit/<%= product.id %>" id="editform" method="POST">
    <div class="col s6 m6 l6">
        <%- include(`partials/types/${stock.type}`, {stocks: stock.stocks}); %>
    </div>
    <div class="col s6 m6 l6">
        <div id="pType" class="row">
            <div class="input-field col s12 m12 l12">
                <select name="product_type" required>
                    <% let temp = 1; %>
                    <% for (let i = 0; i < headers.length; i++){ %>
                    <optgroup label="<%= headers[i]%>">
                        <% for (let j = 0; j < productInfo[i].length; j++) { %>
                        <option value="<%= temp %>" <% if (product.productType === temp) { %> selected <% } %>>
                            <%= productInfo[i][j] %></option>
                        <% temp+=1; %>
                        <% } %>
                    </optgroup>
                    <% } %>
                </select>
                <label>Category and product type</label>
            </div>
        </div>

        <div class="row">
            <div class="input-field col s12 m12 l12">
                <input value="<%= product.name %>" placeholder="" name="product_title" id="productDesc" type="text" class="validate" required>
                <label for="first_name">Product title</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12 m12 l12">
                <input value="<%= product.color %>" placeholder="" name="product_color" id="productDesc" type="text" class="validate" required>
                <label for="first_name">Product color</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12 m12 l12">
                <input value="<%= product.productCode %>" placeholder="" name="product_code" id="productDesc" type="number" class="validate" required>
                <label for="first_name">Product code</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12 m12 l12">
                <input value="<%= product.description %>" placeholder="" name="product_desc" id="productDesc" type="text" class="validate" required>
                <label for="first_name">Product description</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s6 m6 l6">
                <select name="money_type" required>
                    <optgroup label="Currency unit">
                        <option value="1">Dolar / US Dollar</option>
                    </optgroup>
                </select>
                <label>Currency unit</label>
            </div>
            <div class="input-field col s6 m6 l6">
                <input value="<%= product.price %>" placeholder="" name="product_price" type="number" class="validate" required>
                <label for="product_price">Product fee</label>
            </div>
        </div>
    </div>
    <div class="row">
        <a id="edit" class="col right s12 m3 l3 offset-l1 offset-m1 waves-effect waves-light green btn-small">
            <i class="large material-icons left">save</i>
            Save product
        </a>
        <a id="delete" class="col right s12 m3 l3 waves-effect waves-light red btn-small">
            <i class="large material-icons left">delete_forever</i>
            Remove product
        </a>
    </div>
</form>

<%-include partials/footer.ejs%>

<script src="/javascripts/panel/edit.js"></script>
